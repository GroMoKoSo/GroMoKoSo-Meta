<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="605px" preserveAspectRatio="none" style="width:1017px;height:605px;background:#FFFFFF;" version="1.1" viewBox="0 0 1017 605" width="1017px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="716" x="151.5" y="27.9951">Resource Request Flow (Access Token Validation) on the example of updating user profile</text><rect fill="none" height="148.4688" style="stroke:#000000;stroke-width:1.5;" width="763.5" x="246.5" y="330.5234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="24" x2="24" y1="118.5938" y2="525.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="269.5" x2="269.5" y1="118.5938" y2="525.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="568.5" x2="568.5" y1="118.5938" y2="525.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="872" x2="872" y1="118.5938" y2="525.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="968" x2="968" y1="118.5938" y2="525.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="5" y="115.292">User</text><ellipse cx="24" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M24,58.7969 L24,85.7969 M11,66.7969 L37,66.7969 M24,85.7969 L11,100.7969 M24,85.7969 L37,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="5" y="537.1201">User</text><ellipse cx="24" cy="548.9219" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M24,556.9219 L24,583.9219 M11,564.9219 L37,564.9219 M24,583.9219 L11,598.9219 M24,583.9219 L37,598.9219 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="27" x="256.5" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="13" x="263.5" y="107.292">UI</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="27" x="256.5" y="524.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="13" x="263.5" y="544.1201">UI</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191" x="473.5" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="480.5" y="107.292">UserManagement Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191" x="473.5" y="524.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="480.5" y="544.1201">UserManagement Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="817" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="824" y="107.292">Keycloak (IdP)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="817" y="524.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="824" y="544.1201">Keycloak (IdP)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="937" y="115.292">User DB</text><path d="M950.5,66.2969 C950.5,56.2969 968.5,56.2969 968.5,56.2969 C968.5,56.2969 986.5,56.2969 986.5,66.2969 L986.5,92.2969 C986.5,102.2969 968.5,102.2969 968.5,102.2969 C968.5,102.2969 950.5,102.2969 950.5,92.2969 L950.5,66.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M950.5,66.2969 C950.5,76.2969 968.5,76.2969 968.5,76.2969 C968.5,76.2969 986.5,76.2969 986.5,66.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="937" y="537.1201">User DB</text><path d="M950.5,550.4219 C950.5,540.4219 968.5,540.4219 968.5,540.4219 C968.5,540.4219 986.5,540.4219 986.5,550.4219 L986.5,576.4219 C986.5,586.4219 968.5,586.4219 968.5,586.4219 C968.5,586.4219 950.5,586.4219 950.5,576.4219 L950.5,550.4219 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M950.5,550.4219 C950.5,560.4219 968.5,560.4219 968.5,560.4219 C968.5,560.4219 986.5,560.4219 986.5,550.4219 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><path d="M29,133.5938 L29,158.5938 L222,158.5938 L222,143.5938 L212,133.5938 L29,133.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M212,133.5938 L212,143.5938 L222,143.5938 L212,133.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="35" y="150.6606">User needs to be logged in</text><polygon fill="#181818" points="258,180.8594,268,184.8594,258,188.8594,262,184.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="24" x2="264" y1="184.8594" y2="184.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="31" y="179.7935">Update Profile (e.g., change email)</text><polygon fill="#181818" points="557,225.125,567,229.125,557,233.125,561,229.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="270" x2="563" y1="229.125" y2="229.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="277" y="208.9263">PUT /users/&lt;username&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="277" y="224.0591">Authorization: Bearer &lt;Access Token&gt;</text><polygon fill="#181818" points="860,254.2578,870,258.2578,860,262.2578,864,258.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="569" x2="866" y1="258.2578" y2="258.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="576" y="253.1919">Fetch JWKS (public keys, cached if available)</text><line style="stroke:#181818;stroke-width:1.0;" x1="569" x2="611" y1="302.5234" y2="302.5234"/><line style="stroke:#181818;stroke-width:1.0;" x1="611" x2="611" y1="302.5234" y2="315.5234"/><line style="stroke:#181818;stroke-width:1.0;" x1="570" x2="611" y1="315.5234" y2="315.5234"/><polygon fill="#181818" points="580,311.5234,570,315.5234,580,319.5234,576,315.5234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="576" y="282.3247">Validate JWT signature</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="576" y="297.4575">(exp, iss, aud, roles/scopes)</text><path d="M246.5,330.5234 L310.5,330.5234 L310.5,337.6563 L300.5,347.6563 L246.5,347.6563 L246.5,330.5234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="148.4688" style="stroke:#000000;stroke-width:1.5;" width="763.5" x="246.5" y="330.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="261.5" y="343.5903">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="342" x="325.5" y="342.7339">[Valid Token &amp; User has "update_profile" permission]</text><polygon fill="#181818" points="956.5,364.7891,966.5,368.7891,956.5,372.7891,960.5,368.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="569" x2="962.5" y1="368.7891" y2="368.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="576" y="363.7231">Update user profile data</text><polygon fill="#181818" points="580,393.9219,570,397.9219,580,401.9219,576,397.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="574" x2="967.5" y1="397.9219" y2="397.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="586" y="392.856">Success</text><polygon fill="#181818" points="281,423.0547,271,427.0547,281,431.0547,277,427.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="275" x2="568" y1="427.0547" y2="427.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="287" y="421.9888">200 OK (Updated User)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="246.5" x2="1010" y1="436.0547" y2="436.0547"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="297" x="251.5" y="446.2651">[Invalid/Expired Token OR missing permission]</text><polygon fill="#181818" points="281,466.9922,271,470.9922,281,474.9922,277,470.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="275" x2="568" y1="470.9922" y2="470.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="287" y="465.9263">401 Not authorized to perform this request</text><polygon fill="#181818" points="35,503.125,25,507.125,35,511.125,31,507.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="29" x2="269" y1="507.125" y2="507.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="41" y="502.0591">Show result</text><!--SRC=[PL91Rjim4Bpp5GCV2XbmOhVeoGW2n743k8OR8xRQIu22bjOIOOfKISfr-leiARL8q8iaYZixipCRLD249_AsSqNy-DMH3tZGzZUokw8Wxx6t9pBuBhKgPL3MZ64DGasWYsnQXjiZkZRUcGgT9uVMsQFI98IGHR0EEVyKhNH15QgL9Y1VlJkEOi566bbHGtpUaJkhWaQG7ldcVUcQNWfjvGdPgjoEKydwNZ2xF4XFVIii5-bYkH32s41mggf3r1blv-a9GrHw18i3GTkgeXBAY7HrTSiAkImEHTZsqo2Zw-fwWgAMfkBX6wdqMEIhLBsPOvllCOtZ- -bDV1dPqEspkUj2RPtwawoROq7ICSFDMszlHRw9NTRtSpnGA6fy_R7U8MkxWrO5JlJYcLOMTPHuX3mpipne6W-uo3x4GmpTmwlAoD0vUZOPNTe9bESEiYidS5QJd_h2jkJ7d8yEFNH8-KFlJStcZLAcz7C8SuIMNCEDU0m1zCpBnJ-NtWQF60SNBHUu6lJjkZJmW1mC_ZIRuN6Dh6zH9kwn8Cqvhimvoff-kRJAqLzvZqz84dZH_bCpzFmy-uXlDl2qlU-CvOov-cXTmskhF5o_vO9CcVABoBGNkvhNtf7ls1Nn2W00]--></g></svg>